{"uid":"d0ce81de787b42f7","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1727748674007,"stop":1727748751505,"duration":77498},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1727746322963,"stop":1727746322963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1727746322964,"stop":1727746323191,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1727746322964,"stop":1727746322964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1727746323191,"stop":1727746323191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1727746323191,"stop":1727746324091,"duration":900},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1727748674006,"stop":1727748674006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1727748674007,"stop":1727748674007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"9dd350d8539b2f2c","name":"log","source":"9dd350d8539b2f2c.txt","type":"text/plain","size":1349}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1727748751505,"stop":1727748752533,"duration":1028},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1727748752534,"stop":1727748752534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1727749948493,"stop":1727749948510,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1727749948511,"stop":1727749949775,"duration":1264},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1727749949775,"stop":1727749949777,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1727749949777,"stop":1727749949777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1727749949777,"stop":1727749949777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runner"},{"name":"thread","value":"17524-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ea51373815fe2644","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":8,"broken":1,"skipped":1,"passed":8,"unknown":3,"total":21},"items":[{"uid":"df597bfc95c15eac","reportUrl":"../96//#testresult/df597bfc95c15eac","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1727662087436,"stop":1727662129717,"duration":42281}},{"uid":"b21dabde09c596b0","reportUrl":"../95//#testresult/b21dabde09c596b0","status":"passed","time":{"start":1727575775524,"stop":1727575850055,"duration":74531}},{"uid":"cf419e5f73d198c1","reportUrl":"../94//#testresult/cf419e5f73d198c1","status":"passed","time":{"start":1727489319580,"stop":1727489391375,"duration":71795}},{"uid":"d4fd8ea8a58eada0","reportUrl":"../93//#testresult/d4fd8ea8a58eada0","status":"passed","time":{"start":1727403038805,"stop":1727403117370,"duration":78565}},{"uid":"f21cd7224b90eeb9","reportUrl":"../92//#testresult/f21cd7224b90eeb9","status":"passed","time":{"start":1727316852566,"stop":1727316902173,"duration":49607}},{"uid":"463648eba539e2b1","reportUrl":"../90//#testresult/463648eba539e2b1","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-0' != 'postgresql-0'","time":{"start":1722219230975,"stop":1722219262276,"duration":31301}},{"uid":"f2def7a790c59c04","reportUrl":"../89//#testresult/f2def7a790c59c04","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722130779286,"stop":1722130779286,"duration":0}},{"uid":"21d3eb0f2f3ed645","reportUrl":"../88//#testresult/21d3eb0f2f3ed645","status":"passed","time":{"start":1722046366882,"stop":1722046435131,"duration":68249}},{"uid":"796c1f4ef3597c57","reportUrl":"../87//#testresult/796c1f4ef3597c57","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1721959912143,"stop":1721959941463,"duration":29320}},{"uid":"5aa9c9e81fae34a8","reportUrl":"../86//#testresult/5aa9c9e81fae34a8","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1721873522990,"stop":1721873554546,"duration":31556}},{"uid":"fa00c9e43c78bb3b","reportUrl":"../85//#testresult/fa00c9e43c78bb3b","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1721787414010,"stop":1721787445268,"duration":31258}},{"uid":"4b747a82c2ab41e6","reportUrl":"../84//#testresult/4b747a82c2ab41e6","status":"passed","time":{"start":1721700682705,"stop":1721700745879,"duration":63174}},{"uid":"5ef217e9f7ce508","reportUrl":"../83//#testresult/5ef217e9f7ce508","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1721614591133,"stop":1721614622458,"duration":31325}},{"uid":"ee74e47f17d441a0","reportUrl":"../81//#testresult/ee74e47f17d441a0","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1721442435300,"stop":1721442466321,"duration":31021}},{"uid":"f4a6e9edeebd953","reportUrl":"../78//#testresult/f4a6e9edeebd953","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-2' != 'postgresql-2'","time":{"start":1721359016303,"stop":1721359048120,"duration":31817}},{"uid":"e0eae54181bb974d","reportUrl":"../75//#testresult/e0eae54181bb974d","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/1","time":{"start":1718159200215,"stop":1718159223925,"duration":23710}},{"uid":"96bc1737d9baa483","reportUrl":"../73//#testresult/96bc1737d9baa483","status":"unknown","time":{}},{"uid":"32f595e1962bce7c","reportUrl":"../72//#testresult/32f595e1962bce7c","status":"unknown","time":{}},{"uid":"9f4591046483121d","reportUrl":"../71//#testresult/9f4591046483121d","status":"unknown","time":{}},{"uid":"e8b1c79651484bb6","reportUrl":"../70//#testresult/e8b1c79651484bb6","status":"passed","time":{"start":1717814648031,"stop":1717814707898,"duration":59867}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"d0ce81de787b42f7.json","parameterValues":[]}